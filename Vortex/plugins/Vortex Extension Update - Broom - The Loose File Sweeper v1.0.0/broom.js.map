{"version":3,"sources":["webpack://broom/webpack/bootstrap","webpack://broom/./src/actions/session.ts","webpack://broom/./src/actions/settings.ts","webpack://broom/./src/index.ts","webpack://broom/./src/reducers/session.ts","webpack://broom/./src/reducers/settings.ts","webpack://broom/./src/util/globrex.js","webpack://broom/./src/views/BroomDialog.tsx","webpack://broom/./src/views/Settings.tsx","webpack://broom/external \"path\"","webpack://broom/external \"react\"","webpack://broom/external \"react-bootstrap\"","webpack://broom/external \"react-i18next\"","webpack://broom/external \"react-redux\"","webpack://broom/external \"redux-act\"","webpack://broom/external \"vortex-api\""],"names":[],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFa;AACb,8CAA8C,cAAc;AAC5D;AACA,oBAAoB,mBAAO,CAAC,4BAAW;AACvC;AACA;AACA,qFAAqF,EAAE;AACvF;;;;;;;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D;AACA,oBAAoB,mBAAO,CAAC,4BAAW;AACvC;AACA;;;;;;;;;;;;;ACLa;AACb;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,sCAAsC,mBAAO,CAAC,wDAAqB;AACnE,mCAAmC,mBAAO,CAAC,kDAAkB;AAC7D,kCAAkC,mBAAO,CAAC,qDAAoB;AAC9D,mCAAmC,mBAAO,CAAC,uDAAqB;AAChE,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C;AACA,+DAA+D;AAC/D;AACA,KAAK;AACL;AACA;AACA,2EAA2E;AAC3E;AACA;AACA;AACA;;;;;;;;;;;;;ACpBa;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,qBAAqB,mBAAO,CAAC,8BAAY;AACzC,6BAA6B,mBAAO,CAAC,oDAAoB;AACzD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7Ca;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,qBAAqB,mBAAO,CAAC,8BAAY;AACzC,6BAA6B,mBAAO,CAAC,sDAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ,OAAO,QAAQ;AACzD,+BAA+B,QAAQ;;AAEvC;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA,wBAAwB,mFAAmF,KAAK;AAChH;AACA;AACA,gBAAgB;;AAEhB;AACA,oBAAoB,YAAY;AAChC;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,oBAAoB,KAAK;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,QAAQ,GAAG;AACvE;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA,qBAAqB,EAAE,IAAI,cAAc;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE;AAC5B,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,EAAE;AAC3B;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA,mCAAmC,gBAAgB;AACnD,2CAA2C,wCAAwC;AACnF,wBAAwB;AACxB,iBAAiB;AACjB;AACA,mCAAmC,gBAAgB;AACnD,2CAA2C,eAAe;AAC1D;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B,sBAAsB,QAAQ;AAC9B,uCAAuC,WAAW;AAClD;;AAEA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA,8DAA8D,iBAAiB;AAC/E;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;ACjRa;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,gCAAgC,mBAAO,CAAC,oBAAO;AAC/C,qBAAqB,mBAAO,CAAC,8BAAY;AACzC,0BAA0B,mBAAO,CAAC,wCAAiB;AACnD,kBAAkB,mBAAO,CAAC,oDAAoB;AAC9C,wBAAwB,mBAAO,CAAC,oCAAe;AAC/C,sBAAsB,mBAAO,CAAC,gCAAa;AAC3C,6BAA6B,mBAAO,CAAC,kBAAM;AAC3C,gBAAgB,mBAAO,CAAC,8CAAiB;AACzC;AACA;AACA;AACA;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,4BAA4B;AAC3D;AACA;AACA;AACA;AACA,6EAA6E,aAAa;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,IAAI,YAAY;AACnF,+BAA+B,6BAA6B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,UAAU;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,yHAAyH;AAC5L;AACA;AACA,0EAA0E,yBAAyB;AACnG,8EAA8E,QAAQ;AACtF,qFAAqF,0DAA0D;AAC/I;AACA,8EAA8E,QAAQ;AACtF,qFAAqF,0FAA0F;AAC/K,oEAAoE,kBAAkB,4DAA4D,4CAA4C,cAAc,EAAE;AAC9M;AACA,yEAAyE,sBAAsB;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpQa;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,2BAA2B,mBAAO,CAAC,oBAAO;AAC1C,0BAA0B,mBAAO,CAAC,wCAAiB;AACnD,wBAAwB,mBAAO,CAAC,oCAAe;AAC/C,sBAAsB,mBAAO,CAAC,gCAAa;AAC3C,qBAAqB,mBAAO,CAAC,8BAAY;AACzC,mBAAmB,mBAAO,CAAC,sDAAqB;AAChD;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA,sDAAsD,yDAAyD;AAC/G;AACA,wDAAwD,wEAAwE;AAChI;AACA,sDAAsD,+CAA+C;AACrG;AACA,wDAAwD,iDAAiD;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjEA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,uC","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.setBroomMatchedFiles = exports.clearBroomMessages = exports.addBroomMessages = exports.setOpenBroomDialog = void 0;\r\nconst redux_act_1 = require(\"redux-act\");\r\nexports.setOpenBroomDialog = redux_act_1.createAction('SET_OPEN_BROOM_DIALOG', (open) => open);\r\nexports.addBroomMessages = redux_act_1.createAction('ADD_BROOM_MESSAGES', (msgList) => msgList);\r\nexports.clearBroomMessages = redux_act_1.createAction('CLEAR_BROOM_MESSAGES', () => { });\r\nexports.setBroomMatchedFiles = redux_act_1.createAction('SET_BROOM_MATCHED_FILES', (pathList) => pathList);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.setBroomUnhide = exports.setBroomDeleteFiles = void 0;\r\nconst redux_act_1 = require(\"redux-act\");\r\nexports.setBroomDeleteFiles = redux_act_1.createAction('SET_BROOM_DELETE_FILES', (flag) => flag);\r\nexports.setBroomUnhide = redux_act_1.createAction('SET_BROOM_UNHIDE', (flag) => flag);\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst BroomDialog_1 = __importDefault(require(\"./views/BroomDialog\"));\r\nconst Settings_1 = __importDefault(require(\"./views/Settings\"));\r\nconst session_1 = __importDefault(require(\"./reducers/session\"));\r\nconst settings_1 = __importDefault(require(\"./reducers/settings\"));\r\nconst session_2 = require(\"./actions/session\");\r\nfunction main(context) {\r\n    context.registerAction(\"mod-icons\", 500, 'plugin-light', {}, 'Broom', () => {\r\n        context.api.store.dispatch(session_2.setOpenBroomDialog(true));\r\n    });\r\n    context.registerReducer(['session', 'broom'], session_1.default);\r\n    context.registerReducer(['settings', 'interface'], settings_1.default);\r\n    context.registerDialog('broom-dialog', BroomDialog_1.default, () => ({}));\r\n    context.registerSettings('Interface', Settings_1.default, undefined, undefined, 69);\r\n    return true;\r\n}\r\nexports.default = main;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vortex_api_1 = require(\"vortex-api\");\r\nconst actions = __importStar(require(\"../actions/session\"));\r\nconst sessionReducer = {\r\n    reducers: {\r\n        [actions.setOpenBroomDialog]: (state, payload) => {\r\n            return vortex_api_1.util.setSafe(state, ['open'], payload);\r\n        },\r\n        [actions.addBroomMessages]: (state, payload) => {\r\n            const currentMessages = vortex_api_1.util.getSafe(state, ['messages'], []);\r\n            return vortex_api_1.util.setSafe(state, ['messages'], currentMessages.concat(payload));\r\n        },\r\n        [actions.clearBroomMessages]: (state) => {\r\n            return vortex_api_1.util.setSafe(state, ['messages'], []);\r\n        },\r\n        [actions.setBroomMatchedFiles]: (state, payload) => {\r\n            return vortex_api_1.util.setSafe(state, ['matchedFiles'], payload);\r\n        }\r\n    },\r\n    defaults: {\r\n        open: false,\r\n        messages: [],\r\n        matchedFiles: []\r\n    }\r\n};\r\nexports.default = sessionReducer;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vortex_api_1 = require(\"vortex-api\");\r\nconst actions = __importStar(require(\"../actions/settings\"));\r\nconst settingsReducer = {\r\n    reducers: {\r\n        [actions.setBroomDeleteFiles]: (state, payload) => {\r\n            var flag = vortex_api_1.util.getSafe(state, ['broomDeleteFiles'], false);\r\n            if (flag === false)\r\n                return vortex_api_1.util.setSafe(vortex_api_1.util.setSafe(state, ['broomUnhide'], false), ['broomDeleteFiles'], true);\r\n            else\r\n                return vortex_api_1.util.setSafe(state, ['broomDeleteFiles'], payload);\r\n        },\r\n        [actions.setBroomUnhide]: (state, payload) => {\r\n            var flag = vortex_api_1.util.getSafe(state, ['broomUnhide'], false);\r\n            if (flag === false)\r\n                return vortex_api_1.util.setSafe(vortex_api_1.util.setSafe(state, ['broomDeleteFiles'], false), ['broomUnhide'], true);\r\n            else\r\n                return vortex_api_1.util.setSafe(state, ['broomUnhide'], payload);\r\n        },\r\n    },\r\n    defaults: {\r\n        deleteFiles: false,\r\n        unhide: false\r\n    }\r\n};\r\nexports.default = settingsReducer;\r\n","// Globrex source code\r\n// Copyright(c) 2018 Terkel Gjervig Nielsen\r\n\r\nconst isWin = process.platform === 'win32';\r\nconst SEP = isWin ? `\\\\\\\\+` : `\\\\/`;\r\nconst SEP_ESC = isWin ? `\\\\\\\\` : `/`;\r\nconst GLOBSTAR = `((?:[^/]*(?:/|$))*)`;\r\nconst WILDCARD = `([^/]*)`;\r\nconst GLOBSTAR_SEGMENT = `((?:[^${SEP_ESC}]*(?:${SEP_ESC}|$))*)`;\r\nconst WILDCARD_SEGMENT = `([^${SEP_ESC}]*)`;\r\n\r\n/**\r\n * Convert any glob pattern to a JavaScript Regexp object\r\n * @param {String} glob Glob pattern to convert\r\n * @param {Object} opts Configuration object\r\n * @param {Boolean} [opts.extended=false] Support advanced ext globbing\r\n * @param {Boolean} [opts.globstar=false] Support globstar\r\n * @param {Boolean} [opts.strict=true] be laissez faire about mutiple slashes\r\n * @param {Boolean} [opts.filepath=''] Parse as filepath for extra path related features\r\n * @param {String} [opts.flags=''] RegExp globs\r\n * @returns {Object} converted object with string, segments and RegExp object\r\n */\r\nfunction globrex(glob, { extended = false, globstar = false, strict = false, filepath = false, flags = '' } = {}) {\r\n    let regex = '';\r\n    let segment = '';\r\n    let path = { regex: '', segments: [] };\r\n\r\n    // If we are doing extended matching, this boolean is true when we are inside\r\n    // a group (eg {*.html,*.js}), and false otherwise.\r\n    let inGroup = false;\r\n    let inRange = false;\r\n\r\n    // extglob stack. Keep track of scope\r\n    const ext = [];\r\n\r\n    // Helper function to build string and segments\r\n    function add(str, { split, last, only } = {}) {\r\n        if (only !== 'path') regex += str;\r\n        if (filepath && only !== 'regex') {\r\n            path.regex += (str === '\\\\/' ? SEP : str);\r\n            if (split) {\r\n                if (last) segment += str;\r\n                if (segment !== '') {\r\n                    if (!flags.includes('g')) segment = `^${segment}$`; // change it 'includes'\r\n                    path.segments.push(new RegExp(segment, flags));\r\n                }\r\n                segment = '';\r\n            } else {\r\n                segment += str;\r\n            }\r\n        }\r\n    }\r\n\r\n    let c, n;\r\n    for (let i = 0; i < glob.length; i++) {\r\n        c = glob[i];\r\n        n = glob[i + 1];\r\n\r\n        if (['\\\\', '$', '^', '.', '='].includes(c)) {\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '/') {\r\n            add(`\\\\${c}`, { split: true });\r\n            if (n === '/' && !strict) regex += '?';\r\n            continue;\r\n        }\r\n\r\n        if (c === '(') {\r\n            if (ext.length) {\r\n                add(c);\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === ')') {\r\n            if (ext.length) {\r\n                add(c);\r\n                let type = ext.pop();\r\n                if (type === '@') {\r\n                    add('{1}');\r\n                } else if (type === '!') {\r\n                    add('([^\\/]*)');\r\n                } else {\r\n                    add(type);\r\n                }\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '|') {\r\n            if (ext.length) {\r\n                add(c);\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '+') {\r\n            if (n === '(' && extended) {\r\n                ext.push(c);\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '@' && extended) {\r\n            if (n === '(') {\r\n                ext.push(c);\r\n                continue;\r\n            }\r\n        }\r\n\r\n        if (c === '!') {\r\n            if (extended) {\r\n                if (inRange) {\r\n                    add('^');\r\n                    continue\r\n                }\r\n                if (n === '(') {\r\n                    ext.push(c);\r\n                    add('(?!');\r\n                    i++;\r\n                    continue;\r\n                }\r\n                add(`\\\\${c}`);\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '?') {\r\n            if (extended) {\r\n                if (n === '(') {\r\n                    ext.push(c);\r\n                } else {\r\n                    add('.');\r\n                }\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '[') {\r\n            if (inRange && n === ':') {\r\n                i++; // skip [\r\n                let value = '';\r\n                while (glob[++i] !== ':') value += glob[i];\r\n                if (value === 'alnum') add('(\\\\w|\\\\d)');\r\n                else if (value === 'space') add('\\\\s');\r\n                else if (value === 'digit') add('\\\\d');\r\n                i++; // skip last ]\r\n                continue;\r\n            }\r\n            if (extended) {\r\n                inRange = true;\r\n                add(c);\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === ']') {\r\n            if (extended) {\r\n                inRange = false;\r\n                add(c);\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '{') {\r\n            if (extended) {\r\n                inGroup = true;\r\n                add('(');\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '}') {\r\n            if (extended) {\r\n                inGroup = false;\r\n                add(')');\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === ',') {\r\n            if (inGroup) {\r\n                add('|');\r\n                continue;\r\n            }\r\n            add(`\\\\${c}`);\r\n            continue;\r\n        }\r\n\r\n        if (c === '*') {\r\n            if (n === '(' && extended) {\r\n                ext.push(c);\r\n                continue;\r\n            }\r\n            // Move over all consecutive \"*\"'s.\r\n            // Also store the previous and next characters\r\n            let prevChar = glob[i - 1];\r\n            let starCount = 1;\r\n            while (glob[i + 1] === '*') {\r\n                starCount++;\r\n                i++;\r\n            }\r\n            let nextChar = glob[i + 1];\r\n            if (!globstar) {\r\n                // globstar is disabled, so treat any number of \"*\" as one\r\n                add('.*');\r\n            } else {\r\n                // globstar is enabled, so determine if this is a globstar segment\r\n                let isGlobstar =\r\n                    starCount > 1 && // multiple \"*\"'s\r\n                    (prevChar === '/' || prevChar === undefined) && // from the start of the segment\r\n                    (nextChar === '/' || nextChar === undefined); // to the end of the segment\r\n                if (isGlobstar) {\r\n                    // it's a globstar, so match zero or more path segments\r\n                    add(GLOBSTAR, { only: 'regex' });\r\n                    add(GLOBSTAR_SEGMENT, { only: 'path', last: true, split: true });\r\n                    i++; // move over the \"/\"\r\n                } else {\r\n                    // it's not a globstar, so only match one path segment\r\n                    add(WILDCARD, { only: 'regex' });\r\n                    add(WILDCARD_SEGMENT, { only: 'path' });\r\n                }\r\n            }\r\n            continue;\r\n        }\r\n\r\n        add(c);\r\n    }\r\n\r\n\r\n    // When regexp 'g' flag is specified don't\r\n    // constrain the regular expression with ^ & $\r\n    if (!flags.includes('g')) {\r\n        regex = `^${regex}$`;\r\n        segment = `^${segment}$`;\r\n        if (filepath) path.regex = `^${path.regex}$`;\r\n    }\r\n\r\n    const result = { regex: new RegExp(regex, flags) };\r\n\r\n    // Push the last segment\r\n    if (filepath) {\r\n        path.segments.push(new RegExp(segment, flags));\r\n        path.regex = new RegExp(path.regex, flags);\r\n        path.globstar = new RegExp(!flags.includes('g') ? `^${GLOBSTAR_SEGMENT}$` : GLOBSTAR_SEGMENT, flags);\r\n        result.path = path;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nmodule.exports = globrex;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst vortex_api_1 = require(\"vortex-api\");\r\nconst react_bootstrap_1 = require(\"react-bootstrap\");\r\nconst session_1 = require(\"../actions/session\");\r\nconst react_i18next_1 = require(\"react-i18next\");\r\nconst react_redux_1 = require(\"react-redux\");\r\nconst pathlib = __importStar(require(\"path\"));\r\nconst globrex = require('../util/globrex');\r\nclass BroomDialog extends vortex_api_1.ComponentEx {\r\n    constructor(props) {\r\n        super(props);\r\n        this.enter = () => {\r\n            this.setState({ cleanButtonDisabled: true });\r\n            this.props.onSetMatchedFiles([]);\r\n            this.props.onClearMessages();\r\n        };\r\n        this.close = () => {\r\n            this.setState({ cleanButtonDisabled: true });\r\n            this.props.onClearMessages();\r\n            this.props.onSetOpen(false);\r\n        };\r\n        this.fileHandler = () => __awaiter(this, void 0, void 0, function* () {\r\n            for (var file of this.props.matchedFiles) {\r\n                if (this.isParentDir(file, this.props.stagingPath)) {\r\n                    if (this.props.deleteOption) {\r\n                        yield vortex_api_1.fs.unlinkAsync(file);\r\n                    }\r\n                    else if (this.props.unhideOption) {\r\n                        yield vortex_api_1.fs.renameAsync(file, file.replace(/.vohidden$/, \"\"));\r\n                    }\r\n                    else {\r\n                        yield vortex_api_1.fs.renameAsync(file, file + \".vohidden\");\r\n                    }\r\n                }\r\n                else {\r\n                    this.errorHandler(\"Attempted to process a file outside the mods directory.\");\r\n                    return;\r\n                }\r\n            }\r\n            this.doneFileHandler();\r\n        });\r\n        this.findFiles = (path, patternList, skipPattern, output) => __awaiter(this, void 0, void 0, function* () {\r\n            if ((yield vortex_api_1.fs.lstatAsync(path)).isDirectory()) {\r\n                const entries = yield vortex_api_1.fs.readdirAsync(path);\r\n                for (var entry of entries) {\r\n                    var entryPath = pathlib.join(path, entry);\r\n                    if ((yield vortex_api_1.fs.lstatAsync(entryPath)).isDirectory()) {\r\n                        yield this.findFiles(entryPath, patternList, skipPattern, output);\r\n                    }\r\n                    else {\r\n                        for (var pattern of patternList) {\r\n                            if (entryPath.search(pattern) != -1 && output.indexOf(entryPath) == -1) {\r\n                                if (skipPattern && entryPath.search(skipPattern) != -1) {\r\n                                }\r\n                                else {\r\n                                    output.push(entryPath);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.search = () => __awaiter(this, void 0, void 0, function* () {\r\n            const { stagingPath, enabledMods } = this.props;\r\n            var globalRules = \"\";\r\n            for (let mod of enabledMods) {\r\n                var broomFiles = [];\r\n                var modPath = pathlib.join(stagingPath, mod.installationPath);\r\n                yield this.findFiles(modPath, [/\\.broom(\\.vohidden)?$/i], null, broomFiles);\r\n                for (var broomFilePath of broomFiles) {\r\n                    globalRules += vortex_api_1.fs.readFileSync(broomFilePath, 'utf8') + \"\\n\";\r\n                }\r\n            }\r\n            var globalRulesList = globalRules.split(/\\r?\\n/).map(x => x.trim()).filter(x => x.length > 0);\r\n            if (this.props.unhideOption && !this.props.deleteOption)\r\n                for (var i = 0; i < globalRulesList.length; i++)\r\n                    globalRulesList[i] += \".vohidden\";\r\n            this.rulesHandler(globalRulesList);\r\n            if (globalRulesList.length == 0)\r\n                return;\r\n            var globalRulesTranslated = globalRulesList.map(x => globrex(x, { flags: 'g' }).regex);\r\n            var skipPattern = /\\.vohidden$/;\r\n            if (this.props.deleteOption || this.props.unhideOption)\r\n                skipPattern = null;\r\n            for (let mod of enabledMods) {\r\n                var filesToSweep = [];\r\n                var modPath = pathlib.join(stagingPath, mod.installationPath);\r\n                yield this.findFiles(modPath, globalRulesTranslated, skipPattern, filesToSweep);\r\n                if (filesToSweep.length > 0) {\r\n                    this.matchHandler(filesToSweep);\r\n                }\r\n            }\r\n            this.doneSearchHandler();\r\n        });\r\n        this.findButtonHandler = () => __awaiter(this, void 0, void 0, function* () {\r\n            this.props.onClearMessages();\r\n            var searchMsg = \"<b style='color:lightblue'>Searching for rule configuration files...</b>\";\r\n            this.props.onAddMessages([searchMsg, \"</br>\"]);\r\n            yield this.search();\r\n        });\r\n        this.rulesHandler = (globalRulesList) => {\r\n            var ruleMessages = [];\r\n            if (globalRulesList.length == 0) {\r\n                ruleMessages.push(\"No rules found. Make sure your Broom rules are properly installed as mods.\");\r\n            }\r\n            else {\r\n                ruleMessages.push(\"<b style='color:lightblue'>Rules found:</b>\", \"</br>\");\r\n                ruleMessages = ruleMessages.concat(globalRulesList);\r\n                ruleMessages.push(\"</br>\", \"<b style='color:lightblue'>Scanning modlist for matching files...</b>\", \"</br>\");\r\n            }\r\n            this.props.onAddMessages(ruleMessages);\r\n        };\r\n        this.matchHandler = (values) => {\r\n            const { matchedFiles } = this.props;\r\n            this.props.onSetMatchedFiles(matchedFiles.concat(values));\r\n            this.props.onAddMessages(values);\r\n        };\r\n        this.doneSearchHandler = () => {\r\n            var doneMessages = [];\r\n            if (this.props.matchedFiles.length == 0) {\r\n                doneMessages.push(\"No files found.\");\r\n            }\r\n            else {\r\n                var doneMessage = \"\";\r\n                if (this.props.deleteOption)\r\n                    doneMessage = \"Done. Press the Delete Files button to delete the above files.\";\r\n                else if (this.props.unhideOption)\r\n                    doneMessage = \"Done. Press the Un-hide Files button to restore the above files.\";\r\n                else\r\n                    doneMessage = \"Done. Press the Hide Files button to hide the above files.\";\r\n                doneMessages.push(\"</br>\", `<b style='color:orange;'>${doneMessage}</b>`, \"</br>\");\r\n                this.setState({ cleanButtonDisabled: false });\r\n            }\r\n            this.props.onAddMessages(doneMessages);\r\n        };\r\n        this.errorHandler = (msg) => {\r\n            this.props.onAddMessages([msg, \"</br>\"]);\r\n        };\r\n        this.cleanButtonHandler = () => {\r\n            var actionMsg = \"\";\r\n            if (this.props.deleteOption)\r\n                actionMsg = \"Deleting files...\";\r\n            else if (this.props.unhideOption)\r\n                actionMsg = \"Restoring files...\";\r\n            else\r\n                actionMsg = \"Hiding files...\";\r\n            actionMsg = `<b style='color:lightblue'>${actionMsg}</b>`;\r\n            this.props.onAddMessages([actionMsg, \"</br>\"]);\r\n            this.fileHandler();\r\n        };\r\n        this.doneFileHandler = () => {\r\n            var outcomeMsg = \"\";\r\n            if (this.props.deleteOption)\r\n                outcomeMsg = \"were deleted\";\r\n            else if (this.props.unhideOption)\r\n                outcomeMsg = \"were restored\";\r\n            else\r\n                outcomeMsg = \"were hidden\";\r\n            outcomeMsg = \"\" + this.props.matchedFiles.length + \" files \" + outcomeMsg;\r\n            var finalMessage = \"<b style='color:orange'>Close this dialog and Deploy Mods to complete the operation.</b>\";\r\n            this.setState({ cleanButtonDisabled: true });\r\n            this.props.onAddMessages([outcomeMsg, \"</br>\", finalMessage]);\r\n        };\r\n        this.initState({\r\n            cleanButtonDisabled: true\r\n        });\r\n    }\r\n    render() {\r\n        const { t, open, messages } = this.props;\r\n        const { cleanButtonDisabled } = this.state;\r\n        const styleObj = {\r\n            userSelect: 'text'\r\n        };\r\n        var cleanButtonTitle = \"Hide Files\";\r\n        if (this.props.deleteOption)\r\n            cleanButtonTitle = \"Delete Files\";\r\n        else if (this.props.unhideOption)\r\n            cleanButtonTitle = \"Un-hide Files\";\r\n        return (react_1.default.createElement(vortex_api_1.Modal, { id: 'broom-page', show: open, onEnter: this.enter, onHide: this.close, bsSize: \"large\", dialogClassName: \"broom-modal\" },\r\n            react_1.default.createElement(vortex_api_1.Modal.Header, null,\r\n                react_1.default.createElement(react_bootstrap_1.Grid, null,\r\n                    react_1.default.createElement(react_bootstrap_1.Row, { className: \"show-grid\" },\r\n                        react_1.default.createElement(react_bootstrap_1.Col, { lg: 4 },\r\n                            react_1.default.createElement(react_bootstrap_1.Button, { className: \"btn-block\", onClick: this.findButtonHandler }, 'Find Files'),\r\n                            ' '),\r\n                        react_1.default.createElement(react_bootstrap_1.Col, { lg: 4 },\r\n                            react_1.default.createElement(react_bootstrap_1.Button, { className: \"btn-block\", onClick: this.cleanButtonHandler, disabled: cleanButtonDisabled }, cleanButtonTitle))))),\r\n            react_1.default.createElement(vortex_api_1.Modal.Body, { style: styleObj }, messages.map(msg => react_1.default.createElement(\"div\", { style: styleObj, dangerouslySetInnerHTML: { __html: msg } }))),\r\n            react_1.default.createElement(vortex_api_1.Modal.Footer, null,\r\n                react_1.default.createElement(react_bootstrap_1.Button, { onClick: this.close }, 'Close'))));\r\n    }\r\n    isParentDir(child, parent) {\r\n        var prev = \"\";\r\n        var current = child;\r\n        while (current != prev) {\r\n            prev = current;\r\n            current = pathlib.dirname(current);\r\n            if (current == parent)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        onSetOpen: (open) => dispatch(session_1.setOpenBroomDialog(open)),\r\n        onAddMessages: (msgList) => dispatch(session_1.addBroomMessages(msgList)),\r\n        onClearMessages: () => dispatch(session_1.clearBroomMessages([])),\r\n        onSetMatchedFiles: (pathList) => dispatch(session_1.setBroomMatchedFiles(pathList))\r\n    };\r\n}\r\nfunction mapStateToProps(state) {\r\n    const gameId = vortex_api_1.selectors.activeGameId(state);\r\n    var mods = vortex_api_1.util.getSafe(state.persistent, ['mods', gameId], {});\r\n    var profile = vortex_api_1.selectors.activeProfile(state);\r\n    var profileMods = vortex_api_1.util.getSafe(profile, ['modState'], {});\r\n    return {\r\n        open: vortex_api_1.util.getSafe(state, ['session', 'broom', 'open'], false),\r\n        messages: vortex_api_1.util.getSafe(state, ['session', 'broom', 'messages'], []),\r\n        matchedFiles: vortex_api_1.util.getSafe(state, ['session', 'broom', 'matchedFiles'], []),\r\n        stagingPath: vortex_api_1.selectors.installPathForGame(state, gameId),\r\n        enabledMods: Object.keys(profileMods).filter(m => profileMods[m].enabled).map(x => mods[x]),\r\n        deleteOption: vortex_api_1.util.getSafe(state, ['settings', 'interface', 'broomDeleteFiles'], false),\r\n        unhideOption: vortex_api_1.util.getSafe(state, ['settings', 'interface', 'broomUnhide'], false),\r\n    };\r\n}\r\nexports.default = react_i18next_1.withTranslation(['common', 'broom'])(react_redux_1.connect(mapStateToProps, mapDispatchToProps)(BroomDialog));\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst React = __importStar(require(\"react\"));\r\nconst react_bootstrap_1 = require(\"react-bootstrap\");\r\nconst react_i18next_1 = require(\"react-i18next\");\r\nconst react_redux_1 = require(\"react-redux\");\r\nconst vortex_api_1 = require(\"vortex-api\");\r\nconst settings_1 = require(\"../actions/settings\");\r\nclass Settings extends vortex_api_1.ComponentEx {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.toggleDeleteFiles = (enabled) => {\r\n            const { onSetDeleteFiles } = this.props;\r\n            onSetDeleteFiles(enabled);\r\n        };\r\n        this.toggleUnhide = (enabled) => {\r\n            const { onSetUnhide } = this.props;\r\n            onSetUnhide(enabled);\r\n        };\r\n    }\r\n    render() {\r\n        const { t, deleteFiles, unhide } = this.props;\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(react_bootstrap_1.ControlLabel, null, t('Broom - The Loose File Sweeper')),\r\n            React.createElement(vortex_api_1.Toggle, { checked: deleteFiles, onToggle: this.toggleDeleteFiles },\r\n                t('Delete files instead of hiding them'),\r\n                React.createElement(vortex_api_1.More, { id: 'broom-delete-files', name: 'Delete files instead of hiding them' }, t('If this is enabled, the Hide Files button on the Broom dialog will change to Delete Files. ' +\r\n                    'Matching files will be permanently deleted. Use this option with care.'))),\r\n            React.createElement(vortex_api_1.Toggle, { checked: unhide, onToggle: this.toggleUnhide },\r\n                t('Unhide files'),\r\n                React.createElement(vortex_api_1.More, { id: 'broom-unhide-files', name: 'Unhide files' }, t('Revert the hide operation by finding all matching files and removing the .vohidden extension. ' +\r\n                    'Incompatible with the \"Delete files\" option.')))));\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        deleteFiles: vortex_api_1.util.getSafe(state, ['settings', 'interface', 'broomDeleteFiles'], false),\r\n        unhide: vortex_api_1.util.getSafe(state, ['settings', 'interface', 'broomUnhide'], false),\r\n    };\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        onSetDeleteFiles: (flag) => dispatch(settings_1.setBroomDeleteFiles(flag)),\r\n        onSetUnhide: (flag) => dispatch(settings_1.setBroomUnhide(flag)),\r\n    };\r\n}\r\nexports.default = react_i18next_1.withTranslation(['common', 'broom'])(react_redux_1.connect(mapStateToProps, mapDispatchToProps)(Settings));\r\n","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-i18next\");","module.exports = require(\"react-redux\");","module.exports = require(\"redux-act\");","module.exports = require(\"vortex-api\");"],"sourceRoot":""}